# Лабораторна робота №22. Регулярні вирази.

## 1. Вимоги

### 1.1 Розробник

-   Журавльов Ярослав Юрійович;
    
-   студент групи КІТ-120а;
    
-   29-тра-2020
    

### 1.2 Загальне завдання

1.  При введені інформації про базовий тип виконати перевірку:
    
    -   Можна вводити тільки кириличні символи, латинські символи, цифри, пропуски, розділові знаки
        
    -   Не повинно бути пропусків та розділових знаків, які повторюються
        
    -   Перше слово не повинно починатися з маленького символу
        
2.  У клас-список додати метод, що виводить на екран список усіх об'єктів, які мають одне або більше полів з щонайменше двома словами (перевірку виконати за допомогою регулярних виразів)

### 1.3 Індивідуальне завдання

Виконати завдання згідно варіанту.

## 2. Опис програми

### 2.1 Функціональне призначення
За допомогою регулярних виразів виконується перевірка вхідного тексту.

### 2.2 Опис логічної структури програми

Загальне завдання виконується за допомогою розроблених функцій. Функції: `is_std_regex` виконує перевірку вхідного тексту;`is_two_or_more_words_regex` виконує перевірку на наявність двох або більше слів.

##### Функція перевірки вхідного тексту

*bool is_std_regex*

_Призначення:_ перевіряє вхідні дані.

_Схема алгоритму функції_ подана на рис. 1.

_Опис роботи_: за допомогою регулярного виразу перевіряє чи починається слово з великої літери, не повторюються розділювальні символи та немає недоступних символів.

_Повертає функція:_ true якщо текст пройшов.

![](https://github.com/yzet/Programming/blob/main/lab22/doc/assets/lab22.png)  
  
Рисунок 1 — Схема алгоритму функції *is_std_regex*
##### Функція перевірки на два або більше слів
*bool is_two_or_more_words_regex*

_Призначення:_ перевіряє чи є у строці два або більше сдів.

_Схема алгоритму функції_ подана на рис. 2.

_Опис роботи_: за допомогою регулярного виразу перевіряє чи єу строці два або більше слів.

_Повертає функція:_ true якщо у строці два або більше слів.

![](https://github.com/yzet/Programming/blob/main/lab22/doc/assets/lab22_1.png) 

Рисунок 2 — Схема алгоритму функції *is_two_or_more_words*

##### _**Основна функція**_

int main

_Призначення:_ головна функція

_Схема алгоритму функції_ подана на рис. 3.

_Опис роботи: викликає функцію запуску меню.
_Повертає функція_ код повернення програми (0).

![]()  

Рисунок 3 — Схема алгоритму функції main

#### Структура проекту

```
└── lab22
 ├── Doxyfile
 ├── Makefile
 ├── doc
 │   ├── lab22.md
 │   └── lab22.pdf
 └── src
 	 └── check_agencies.c
 	 └── check_agencies.h
	 └── data.c
	 └── data.h
	 └── list.c
	 └── list.h
	 └── main.c
	 └── time_calculate.c
	 └── time_calculate.h
	 └── ui.c
	 └── ui.h
 └── test
	 └── test.c
```

### 2.3 Важливі фрагменти програми
#### Використання регулярного виразу
```c
char std_regex[] = "^[A-Z][a-zA-Z]*((( |-|$)?[a-zA-Z])*|$)?$";  
regex_t regex;  
int return_value = regcomp(&regex, std_regex, REG_EXTENDED);  
return_value = regexec(&regex, string, 0, NULL, 0);  
regfree(&regex);  
return regex_result_to_bool(return_value);
```
#### Функція перетворення коду повернення в bool
```c
bool bool_result;  
if (result == 0)  
    bool_result = true;  
else if (result == REG_NOMATCH)  
    bool_result = false;  
else  
{  
    printf("Regex error");  
  exit(1);  
}  
return bool_result;
```
### 3. Варіанти використання

Для демонстрації результатів використовується Clion. Нижче наводиться послідовність дій запуску програми.

Крок 1 (див. рис. 4). Демонструється введеня коректних даних.

![](https://github.com/yzet/Programming/blob/main/lab22/doc/assets/cor_data.jpg) 

Рисунок 4 — результат роботи функцій втавлення та видалення.

Крок 2 (див. рис. 5). Демонструється введеня некоректних даних.

![](https://github.com/yzet/Programming/blob/main/lab22/doc/assets/error_data.jpg) 

## Висновки

При виконанні даної лабораторної роботи було набуто практичного досвіду роботи із регулярними виразами.
