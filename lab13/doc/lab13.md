# Лабораторна робота №13. Строки (NULL-terminated C Strings)

## 1. Вимоги

### 1.1 Розробник

-   Журавльов Ярослав Юрійович;
    
-   студент групи КІТ-120а;
    
-   15-гру-2020
    

### 1.2 Загальне завдання

Розробити програми, що вирішують завдання з використанням строк.

### 1.3 Індивідуальне завдання

Реалізувати програму, знаходить усі числа у тексті.

## 2. Опис програми

### 2.1 Функціональне призначення

Програма записує усі числа із тексту *text* у масив *numbers_in_text*.

### 2.2 Опис логічної структури програми

Для створення масиву *numbers_in_text* визначаємо кількість чисел у тексті за допомогою функції *get_count_of_numbers_in_text*, яка приймає параметром текст. Для заповнення масиву числами викликаємо функцію *get_numbers_in_text*, яка приймає параметрами текст та масив для запису чисел. 


##### Функція визначення кількості чисел у тексті

*size_t  get_count_of_numbers_in_text*

_Призначення:_ визначає кількість чисел у тексті

_Схема алгоритму функції_ подана на рис. 1.

_Опис роботи_: за допомогою функції *symbol_is_digit* функція перевіряє чи є символ цифрою, якщо це цифра, то функція перевіряє чи зліва також цифра, якщо ні - збільшує кількість чисел у тексті.

_Повертає функція_ кількість чисел у тексті.

![](https://github.com/yzet/Programming/blob/main/lab13/doc/assets/count_of_numbers.png?raw=true)  
  
Рисунок 1 — Схема алгоритму функції *get_count_of_numbers_in_text*
##### Функція перевірки символу
*bool symbol_is_digit*

_Призначення:_ визначає чи є символ цифрою.

_Схема алгоритму функції_ подана на рис. 2.

_Опис роботи_: функція перевіряє ASCII символу, і якщо цей код - код цифри, повертає істину, інакше - брехню.

_Повертає функція_ true або false.

![](https://github.com/yzet/Programming/blob/main/lab13/doc/assets/symbol_is_digit.png?raw=true) 

Рисунок 2 — Схема алгоритму функції *symbol_is_digit*

##### Функція запису чисел із тексту у масив
*void  get_numbers_in_text*

_Призначення:_ записує усі числа із тексту у масив.

_Схема алгоритму функції_ подана на рис. 3.

_Опис роботи_:  за допомогою функції *symbol_is_digit* функція перевіряє чи є символ цифрою, якщо це цифра, то до тимчасової змінної додається цей символ, якщо ні тимчасова змінна за допомогою функції *atoi* перетворюється у ціле число, яке записується у масив чисел.

_Повертає функція_ змінений масив з числами.

![](https://github.com/yzet/Programming/blob/main/lab13/doc/assets/get_numbers_in_text.png?raw=true) 

Рисунок 3 — Схема алгоритму функції *get_numbers_in_text*

##### _**Основна функція**_

int main

_Призначення:_ головна функція

_Схема алгоритму функції_ подана на рис. 4.

_Опис роботи:_ функція записує у змінну *text* строку, визначає кількість чисел у цьому тексті, створює масив для збереження чисел, записує усі числа у масив.
_Повертає функція_ код повернення програми (0).

![](https://github.com/yzet/Programming/blob/main/lab13/doc/assets/main.png?raw=true)  

Рисунок 4 — Схема алгоритму функції main

#### Структура проекту

```
└── lab11
 ├── Doxyfile
 ├── Makefile
 ├── doc
 │   ├── lab11.md
 │   └── lab11.pdf
 └── src
 	 └── lib.c
	 └── lib.h
	 └── main.c
```

### 2.3 Важливі фрагменти програми
#### Визначення чи є символ цифрою
```c
if (symbol - '0' >= 0 && symbol - '0' <= 9)
```
#### Перевірка чи лівий елемент теж цифра
```c
if (symbol_is_digit(text[i]))
{
	if (!is_in_number)
	{
		is_in_number = true;
		count_of_numbers++;
	}
}
```
#### Запис символів до тимчасової змінної
```c
buffer[last_index_in_buffer] = text[i];
buffer[++last_index_in_buffer] = '\0';
```
### 3. Варіанти використання

Для демонстрації результатів використовується покрокове виконання програми та інші засоби налагодження відлагодника llvm. Нижче наводиться послідовність  дій запуску програми у режимі відлагодження.

Крок 1 (див. рис. 5). Знаходячись в основній процедурі, досліджуємо стан змінних, в тому числі констант.

![](https://github.com/yzet/Programming/blob/main/lab13/doc/assets/img5.png?raw=true) 

Рисунок 5 — значення змінних при запуску програми.

Крок 2 (див. рис. 6). Дослідження стану змінних наприкінці виконання функції визначення кількості чисел у тексті.

![](https://github.com/yzet/Programming/blob/main/lab13/doc/assets/img6.png?raw=true) 

Рисунок 6 — значення змінних після визначення кількості чисел у тексті. 

Крок 3 (див. рис. 7). Дослідження стану змінних після виконання функції запису чисел до масиву із числами.

![](https://github.com/yzet/Programming/blob/main/lab13/doc/assets/img7.png?raw=true) 

Рисунок 7 - значення змінних після запису чисел у масив

## Висновки

При виконанні даної лабораторної роботи було набуто практичного досвіду роботи із строками.
